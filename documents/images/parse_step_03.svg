<svg viewBox="0 0 620 200" xmlns="http://www.w3.org/2000/svg">
  <!-- 白背景 -->
  <rect x="0" y="0" width="620" height="200" fill="#ffffff"/>
  <!-- Before -->
  <text x="20" y="20" font-size="11" fill="#666">reduce前: DIGIT をポップ</text>
  <rect x="20" y="30" width="40" height="30" fill="#d4edda" stroke="#333"/>
  <rect x="60" y="30" width="40" height="30" fill="#f8d7da" stroke="#dc3545" stroke-dasharray="4"/>
  <text x="40" y="50" text-anchor="middle" font-size="12" fill="#333">0</text>
  <text x="80" y="50" text-anchor="middle" font-size="12" fill="#dc3545">1</text>
  <rect x="120" y="30" width="40" height="30" fill="#cce5ff" stroke="#333"/>
  <rect x="160" y="30" width="50" height="30" fill="#f8d7da" stroke="#dc3545" stroke-dasharray="4"/>
  <text x="140" y="50" text-anchor="middle" font-size="12" fill="#333">$</text>
  <text x="185" y="50" text-anchor="middle" font-size="10" fill="#dc3545">DIGIT</text>
  <!-- Arrow -->
  <path d="M 130 75 L 130 95" stroke="#333" stroke-width="2" fill="none"/>
  <polygon points="130,105 125,95 135,95" fill="#333"/>
  <!-- After -->
  <text x="20" y="130" font-size="11" fill="#666">reduce後: expr をプッシュ、GOTO[0, expr]=3 で状態3へ</text>
  <rect x="20" y="140" width="40" height="30" fill="#d4edda" stroke="#333"/>
  <rect x="60" y="140" width="40" height="30" fill="#c3e6cb" stroke="#28a745" stroke-width="2"/>
  <text x="40" y="160" text-anchor="middle" font-size="12" fill="#333">0</text>
  <text x="80" y="160" text-anchor="middle" font-size="12" fill="#28a745">3</text>
  <rect x="120" y="140" width="40" height="30" fill="#cce5ff" stroke="#333"/>
  <rect x="160" y="140" width="40" height="30" fill="#b8daff" stroke="#28a745" stroke-width="2"/>
  <text x="140" y="160" text-anchor="middle" font-size="12" fill="#333">$</text>
  <text x="180" y="160" text-anchor="middle" font-size="12" fill="#28a745">expr</text>
  <!-- 入力 -->
  <rect x="280" y="140" width="30" height="30" fill="#fff3cd" stroke="#333"/>
  <rect x="310" y="140" width="50" height="30" fill="#ffffff" stroke="#333"/>
  <rect x="360" y="140" width="30" height="30" fill="#ffffff" stroke="#333"/>
  <text x="295" y="160" text-anchor="middle" font-size="12" font-weight="bold" fill="#333">+</text>
  <text x="335" y="160" text-anchor="middle" font-size="11" fill="#333">DIGIT</text>
  <text x="375" y="160" text-anchor="middle" font-size="12" fill="#333">$</text>
  <!-- ACTION -->
  <text x="510" y="160" text-anchor="middle" font-size="11" fill="#333">ACTION[3, +] = s4</text>
</svg>
