<svg viewBox="0 0 900 650" xmlns="http://www.w3.org/2000/svg">
  <rect x="0" y="0" width="900" height="650" fill="#ffffff"/>
  <rect x="700" y="20" width="180" height="80" fill="#f8f8f8" stroke="#ccc" rx="5"/>
  <text x="790" y="40" text-anchor="middle" font-size="12" font-weight="bold" fill="#333">凡例</text>
  <line x1="720" y1="55" x2="765" y2="55" stroke="#0066cc" stroke-width="2"/>
  <text x="770" y="59" font-size="11" fill="#333">shift（終端記号）</text>
  <line x1="720" y1="75" x2="765" y2="75" stroke="#28a745" stroke-width="2"/>
  <text x="770" y="79" font-size="11" fill="#333">goto（非終端記号）</text>
  <rect x="50" y="50" width="230" height="115" fill="#fff3cd" stroke="#333" stroke-width="2" rx="5"/>
  <text x="165" y="75" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">状態 0</text>
  <line x1="60" y1="85" x2="270" y2="85" stroke="#ccc"/>
  <text x="60" y="105" font-size="11" fill="#333" font-family="monospace">$accept → • main [$]</text>
  <text x="60" y="120" font-size="11" fill="#333" font-family="monospace">main → • expr [$]</text>
  <text x="60" y="135" font-size="11" fill="#333" font-family="monospace">expr → • expr '+' expr [+, $]</text>
  <text x="60" y="150" font-size="11" fill="#333" font-family="monospace">expr → • DIGIT [+, $]</text>
  <rect x="400" y="50" width="200" height="80" fill="#d4edda" stroke="#333" stroke-width="2" rx="5"/>
  <text x="500" y="75" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">状態 1</text>
  <line x1="410" y1="85" x2="590" y2="85" stroke="#ccc"/>
  <text x="410" y="105" font-size="11" fill="#333" font-family="monospace">expr → DIGIT • [+, $]</text>
  <text x="410" y="120" font-size="10" fill="#cc6600" font-style="italic">reduce r2 on +, $</text>
  <rect x="50" y="280" width="200" height="80" fill="#d4edda" stroke="#28a745" stroke-width="3" rx="5"/>
  <text x="150" y="305" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">状態 2</text>
  <line x1="60" y1="315" x2="240" y2="315" stroke="#ccc"/>
  <text x="60" y="335" font-size="11" fill="#333" font-family="monospace">$accept → main • [$]</text>
  <text x="60" y="350" font-size="12" fill="#28a745" font-weight="bold">accept on $</text>
  <rect x="50" y="480" width="230" height="95" fill="#cce5ff" stroke="#333" stroke-width="2" rx="5"/>
  <text x="165" y="505" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">状態 3</text>
  <line x1="60" y1="515" x2="270" y2="515" stroke="#ccc"/>
  <text x="60" y="535" font-size="11" fill="#333" font-family="monospace">expr → expr • '+' expr [+, $]</text>
  <text x="60" y="550" font-size="11" fill="#333" font-family="monospace">main → expr • [$]</text>
  <text x="60" y="565" font-size="10" fill="#cc6600" font-style="italic">reduce main → expr on $</text>
  <rect x="400" y="280" width="230" height="115" fill="#fff3cd" stroke="#333" stroke-width="2" rx="5"/>
  <text x="515" y="305" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">状態 4</text>
  <line x1="410" y1="315" x2="620" y2="315" stroke="#ccc"/>
  <text x="410" y="335" font-size="11" fill="#333" font-family="monospace">expr → expr '+' • expr [+, $]</text>
  <text x="410" y="350" font-size="11" fill="#333" font-family="monospace">expr → • expr '+' expr [+, $]</text>
  <text x="410" y="365" font-size="11" fill="#333" font-family="monospace">expr → • DIGIT [+, $]</text>
  <rect x="400" y="480" width="230" height="95" fill="#d4edda" stroke="#333" stroke-width="2" rx="5"/>
  <text x="515" y="505" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">状態 5</text>
  <line x1="410" y1="515" x2="620" y2="515" stroke="#ccc"/>
  <text x="410" y="535" font-size="11" fill="#333" font-family="monospace">expr → expr • '+' expr [+, $]</text>
  <text x="410" y="550" font-size="11" fill="#333" font-family="monospace">expr → expr '+' expr • [+, $]</text>
  <text x="410" y="565" font-size="10" fill="#cc6600" font-style="italic">reduce r1 on +, $</text>
  <line x1="280" y1="90" x2="380" y2="90" stroke="#0066cc" stroke-width="2"/>
  <polygon points="380,87 390,90 380,93" fill="#0066cc"/>
  <rect x="310" y="75" width="50" height="18" fill="#fff" stroke="none"/>
  <text x="335" y="88" text-anchor="middle" font-size="11" fill="#0066cc" font-weight="bold">DIGIT</text>
  <line x1="100" y1="165" x2="100" y2="260" stroke="#28a745" stroke-width="2"/>
  <polygon points="97,260 100,270 103,260" fill="#28a745"/>
  <rect x="105" y="205" width="40" height="18" fill="#fff" stroke="none"/>
  <text x="125" y="218" text-anchor="middle" font-size="11" fill="#28a745" font-weight="bold">main</text>
  <line x1="200" y1="165" x2="200" y2="250" stroke="#28a745" stroke-width="2"/>
  <line x1="200" y1="250" x2="260" y2="250" stroke="#28a745" stroke-width="2"/>
  <line x1="260" y1="250" x2="260" y2="400" stroke="#28a745" stroke-width="2"/>
  <line x1="260" y1="400" x2="200" y2="400" stroke="#28a745" stroke-width="2"/>
  <line x1="200" y1="400" x2="200" y2="460" stroke="#28a745" stroke-width="2"/>
  <polygon points="197,460 200,470 203,460" fill="#28a745"/>
  <rect x="265" y="310" width="35" height="18" fill="#fff" stroke="none"/>
  <text x="282" y="323" text-anchor="middle" font-size="11" fill="#28a745" font-weight="bold">expr</text>
  <line x1="280" y1="527" x2="345" y2="527" stroke="#0066cc" stroke-width="2"/>
  <line x1="345" y1="527" x2="345" y2="340" stroke="#0066cc" stroke-width="2"/>
  <line x1="345" y1="340" x2="380" y2="340" stroke="#0066cc" stroke-width="2"/>
  <polygon points="380,337 390,340 380,343" fill="#0066cc"/>
  <rect x="325" y="420" width="25" height="18" fill="#fff" stroke="none"/>
  <text x="337" y="433" text-anchor="middle" font-size="14" fill="#0066cc" font-weight="bold">+</text>
  <line x1="515" y1="280" x2="515" y2="140" stroke="#0066cc" stroke-width="2"/>
  <polygon points="512,140 515,130 518,140" fill="#0066cc"/>
  <rect x="520" y="200" width="50" height="18" fill="#fff" stroke="none"/>
  <text x="545" y="213" text-anchor="middle" font-size="11" fill="#0066cc" font-weight="bold">DIGIT</text>
  <line x1="515" y1="395" x2="515" y2="460" stroke="#28a745" stroke-width="2"/>
  <polygon points="512,460 515,470 518,460" fill="#28a745"/>
  <rect x="520" y="420" width="35" height="18" fill="#fff" stroke="none"/>
  <text x="537" y="433" text-anchor="middle" font-size="11" fill="#28a745" font-weight="bold">expr</text>
</svg>
